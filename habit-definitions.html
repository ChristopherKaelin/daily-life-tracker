<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Habit Definitions</title>

        <link rel="icon" type="image/svg+xml" href="./assets/images/favicon.svg">
        
        <meta name="description" content="Stay organized and motivated with daily habit tracking, journaling, and goal management designed to feel like your favorite paper planner.">
        <meta name="theme-color" content="#663366">

        <meta property="og:title" content="Daily Life Tracker">
        <meta property="og:description" content="Personal habit, goals, and journalling dashboard">        

        <!-- Font Awesome CSS -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

        <!-- My CSS --> 
        <link rel="stylesheet" href="./css/modern-normalize.css">
        <link rel="stylesheet" href="./css/main.css" />

        <!-- Utility scripts -->
        <script src="./js/utils/date-utils.js"></script>
        <script src="./js/utils/ui-utils.js"></script>
        <script src="./js/utils/validation-utils.js"></script>
        <script src="./config.js"></script>

        <!-- Feature scripts -->
        <script src="./js/calendar.js"></script>
        <script src="./js/key-dates.js"></script>
        <script src="./js/user-settings.js"></script>
        <script src="./js/monthly-habit-goals.js"></script>
        <script src="./js/habit-progress.js"></script>

        <!-- Page/Main scripts -->
        <script src="./js/habit-definitions.js"></script>
        <script src="./js/main.js"></script>

    </head>
    <body>
        <div class="main-container">
            <!-- HEADER -->
            <header class="main-header ">
                <h1 class="user-greeting">
                    <span id="userGreeting">Hello</span>
                    <span id="userDisplayName">[User Name]</span>
                </h1>
            </header>
            <!-- MAIN CONTENT -->
            <main class="main-content">
                <section id="habitDefinitions" class="habits-section">
                    <h1>Manage Habit Definitions</h1>
                    <h4 class="hdr-with-icon">
                        <span class="list-header">Habit Definitions</span>
                        <img class="add icon icon-lg" src="./assets/images/add-calendar-icon.svg" alt="add icon" onclick="openHabitDefinitionForm('add')">
                    </h4>
                    <div id="habitDefinitionsDisplay"></div>
                </section>
            </main>

            <!-- NAVIGATION -->
            <nav class="main-nav">
                <ul>
                    <li><a class="nav-link" href="./index.html">Dashboard</a></li>
                </ul>
            </nav>
        </div>

        <!-- MODALS -->
        <!-- ----------------- -->

        <!-- HABIT DEFINITION ADD/EDIT FORM -->
        <div id="habitDefinitionsInput" class="modal-form hidden">
            <div class="modal-content">
                <h2 id="habit-title">Habit Definition</h2>
                
                <form id="habitDefinitionsForm" onsubmit="submitHabitDefinitionForm(event)">
                    <div class="form-group">
                        <label>Goal Type:</label>
                        <select id="habitGoalType" onchange="handleGoalTypeChange()">
                            <option value="daily">Daily Completion (Yes/No)</option>
                            <option value="cumulative">Cumulative Goal (Track Progress)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="habitName">Habit Name:</label>
                        <input type="text" id="habitName" name="habitName" 
                            placeholder="Enter habit name" maxlength="50" required>
                    </div>
                    <div id="cumulativeFields" class="cumulative-fields hidden">
                        <div class="form-group">
                            <label for="habitMeasurement">Measurement:</label>
                            <input type="text" id="habitMeasurement" name="habitMeasurement" 
                                placeholder="e.g. miles, minutes, pages" maxlength="20">
                        </div>
                        <div class="form-group">
                            <label for="habitGoalAmount">Goal Amount:</label>
                            <input type="number" id="habitGoalAmount" name="habitGoalAmount"
                                min="1" max="100" step="1"
                                placeholder="1 - 100, e.g. 30">
                        </div>
                        <div class="form-group">
                            <label for="habitIncrementAmount">Increment Amount:</label>
                            <input type="number" id="habitIncrementAmount" name="habitIncrementAmount" 
                                min=".1" max="1" step=".1"
                                placeholder=".1 - 1, e.g. 0.5">
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="submit" class="btn btn-save">Submit</button>
                        <button type="button" class="btn btn-cancel" onclick="toggleShowHideForm('habitDefinitionsInput')">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- DELETE HABIT DEFINITION CONFIRMATION -->
        <div id="deleteHabitDefinitionConfirmForm" class="modal-form hidden">
            <div class="modal-content">
                <h2 id="delete-habit-def-title">Delete Habit Definition</h2>
                <p>Confirm you want to delete this habit definition:</p>
                <p id="deleteHabitDefinitionInfo" class="delete-info"></p>
                
                <div class="form-buttons">
                    <button type="button" class="btn btn-danger" id="confirmDelete" class="btn-danger">Delete</button>
                    <button type="button" class="btn btn-cancel" onclick="toggleShowHideForm('deleteHabitDefinitionConfirmForm')">Cancel</button>
                </div>
            </div>
        </div>

        <!-- RESTORE HABIT DEFINITION CONFIRMATION -->
        <div id="restoreHabitDefinitionConfirmForm" class="modal-form hidden">
            <div class="modal-content">
                <h2 id="restore-habit-def-title">Restore Habit Definition</h2>
                <p>Confirm you want to restore this habit definition:</p>
                <p id="restoreHabitDefinitionInfo" class="restore-info"></p>
                
                <div class="form-buttons">
                    <button type="button" class="btn btn-restore" id="confirmRestore" class="btn-restore">Restore</button>
                    <button type="button" class="btn btn-cancel" onclick="toggleShowHideForm('restoreHabitDefinitionConfirmForm')">Cancel</button>
                </div>
            </div>
        </div>

    </body>
</html>